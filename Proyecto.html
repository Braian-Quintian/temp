<!DOCTYPE html><html><head>
      <title>Proyecto</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="revisión-de-los-requisitos-del-documento-y-diseño-de-base-de-datos"><strong>Revisión de los Requisitos del Documento y Diseño de Base de Datos</strong> </h1>
<p><img src="sandigoContable-1.png" alt="DB"></p>
<h2 id="1-gestión-empresarial"><strong>1 Gestión Empresarial</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Gestión de empresas comerciales y de servicios, con estructura basada en centros de costo.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Empresas:</strong> Centraliza la gestión de empresas con detalles fiscales y normativos.</li>
<li><strong>Tabla: Agencias:</strong> Permite el registro de centros de costo como agencias asociadas a cada empresa.</li>
</ul>
</li>
</ul>
<h2 id="2-usuarios-y-roles"><strong>2 Usuarios y Roles</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Control de acceso basado en roles con permisos específicos por empresa y agencia.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Usuarios:</strong> Maneja la información de usuarios y roles (administrador, contador, auditor, operador).</li>
<li><strong>Tabla: Permisos_Usuarios:</strong> Define permisos detallados, restringiendo el acceso según empresa, agencia y acciones específicas.</li>
</ul>
</li>
</ul>
<h2 id="3-contabilidad"><strong>3 Contabilidad</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Cumplir con las normas contables de Colombia (PUC) y NIIF, generando automáticamente asientos contables y manteniendo actualizados los saldos.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Plan_Cuentas:</strong> Implementa un sistema contable flexible para cumplir con PUC y NIIF.</li>
<li><strong>Tabla: Movimientos_Contables:</strong> Registra débitos y créditos detallados, permitiendo la actualización de saldos.</li>
<li><strong>Tabla: Asientos_Contables:</strong> Agrupa movimientos para generar registros contables automáticos.</li>
</ul>
</li>
</ul>
<h2 id="4-ventas-y-facturación"><strong>4 Ventas y Facturación</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Manejo de ventas POS y facturación electrónica, integrando retenciones e impuestos.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Ventas:</strong> Registra las transacciones de ventas, clasificadas como POS o electrónicas.</li>
<li><strong>Tabla: Detalle_Ventas:</strong> Permite el desglose de productos y servicios vendidos.</li>
<li><strong>Tabla: Documentos_Electronicos:</strong> Facilita la gestión de facturas electrónicas y notas asociadas.</li>
<li><strong>Tabla: Retenciones:</strong> Calcula y registra retenciones fiscales aplicadas a las ventas.</li>
</ul>
</li>
</ul>
<h2 id="5-compras"><strong>5 Compras</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Gestión de compras con detalle de productos y servicios adquiridos, e integración de impuestos y estados de pago.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Compras:</strong> Centraliza las adquisiciones realizadas por la empresa.</li>
<li><strong>Tabla: Detalle_Compras:</strong> Registra cada ítem adquirido, incluyendo impuestos.</li>
</ul>
</li>
</ul>
<h2 id="6-gestión-de-cartera-y-pagos"><strong>6 Gestión de Cartera y Pagos</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Seguimiento de cuentas por cobrar, pagos y administración de saldos de cartera.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Cartera:</strong> Registra y actualiza los saldos pendientes por cliente.</li>
<li><strong>Tabla: Pagos:</strong> Almacena los pagos realizados, incluyendo método de pago y referencia.</li>
</ul>
</li>
</ul>
<h2 id="7-auditorías-y-control"><strong>7 Auditorías y Control</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Garantizar auditorías internas y trazabilidad de las acciones realizadas.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Auditorias:</strong> Rastrear acciones clave como creación, modificación o eliminación de registros. Uso de JSON para almacenar cambios.</li>
</ul>
</li>
</ul>
<h2 id="8-complementos-y-catálogos"><strong>8 Complementos y Catálogos</strong> </h2>
<ul>
<li>
<p><strong>Requisito:</strong> Gestión de clientes, proveedores, productos y servicios.</p>
</li>
<li>
<p><strong>Cumplimiento:</strong></p>
<ul>
<li><strong>Tabla: Clientes:</strong> Registra los datos de clientes, necesarios para facturación y seguimiento de cartera.</li>
<li><strong>Tabla: Proveedores:</strong> Almacena información de proveedores para gestión de compras.</li>
<li><strong>Tabla: Productos_Servicios:</strong> Centraliza la información de productos y servicios ofrecidos o adquiridos.</li>
<li><strong>Tabla: Impuestos:</strong> Define los tipos de impuestos aplicables, crucial para cálculos fiscales.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="compatibilidad-con-el-documento"><strong>Compatibilidad con el Documento</strong> </h3>
<p>El diseño cubre:</p>
<ol>
<li><strong>Normatividad Contable:</strong> Compatible con PUC y NIIF.</li>
<li><strong>Transacciones:</strong> Actualización automática de saldos en cada transacción.</li>
<li><strong>Informes y Auditorías:</strong> Soporte para auditorías UGPP y generación de informes financieros (balances, libros contables, etc.).</li>
<li><strong>Flexibilidad:</strong> Preparado para la inclusión de módulos adicionales según necesidades futuras.</li>
</ol>
<hr>
<h2 id="estructura-de-tablas-para-la-base-de-datos"><strong>Estructura de Tablas para la Base de Datos</strong> </h2>
<hr>
<h2 id="1-gestión-empresarial-1"><strong>1. Gestión Empresarial</strong> </h2>
<h3 id="tabla-empresas"><strong>Tabla: Empresas</strong> </h3>
<ul>
<li><strong>Función:</strong> Administra la información principal de las empresas registradas en el sistema. Incluye datos legales y fiscales necesarios para el cumplimiento normativo.</li>
<li><strong>Interacciones:</strong> Relacionada con las tablas de agencias, usuarios, ventas, compras y auditorías. La normativa asignada (PUC/NIIF) define cómo se generan los reportes contables.</li>
</ul>
<h4 id="campos-de-la-tabla-empresas"><strong>Campos de la Tabla: Empresas</strong> </h4>
<ul>
<li><strong>ID_Empresa</strong> (PK)</li>
<li>Nombre</li>
<li>NIT</li>
<li>Tipo_Empresa (Comercial, Servicios, Manufactura, etc.)</li>
<li>Régimen_Tributario (Simplificado, Común, Gran Contribuyente)</li>
<li>Dirección</li>
<li>Teléfono</li>
<li>Email</li>
<li>Fecha_Creación</li>
<li>Estado (Activa/Inactiva)</li>
<li>Normativa (PUC/NIIF)</li>
</ul>
<h3 id="tabla-agencias-centros-de-costo"><strong>Tabla: Agencias (Centros de Costo)</strong> </h3>
<ul>
<li><strong>Función:</strong> Representa las divisiones operativas o centros de costo dentro de cada empresa. Permite realizar análisis financieros por agencia.</li>
<li><strong>Interacciones:</strong> Conecta con las tablas de contabilidad, ventas, compras y auditorías para segmentar las operaciones por agencia.</li>
</ul>
<h4 id="campos-de-la-tabla-agencias"><strong>Campos de la Tabla: Agencias</strong> </h4>
<ul>
<li><strong>ID_Agencia</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li>Nombre</li>
<li>Dirección</li>
<li>Centro_Costo (Código Único)</li>
<li>Fecha_Creación</li>
<li>Estado (Activa/Inactiva)</li>
</ul>
<hr>
<h2 id="2-usuarios-y-roles-1"><strong>2. Usuarios y Roles</strong> </h2>
<h3 id="tabla-usuarios"><strong>Tabla: Usuarios</strong> </h3>
<ul>
<li><strong>Función:</strong> Contiene la información de acceso y roles asignados a cada usuario. Determina el nivel de acceso y responsabilidad dentro del sistema.</li>
<li><strong>Interacciones:</strong> Relacionada con permisos_usuarios para definir empresas y agencias a las que tienen acceso. Genera auditorías por las acciones realizadas.</li>
</ul>
<h4 id="campos-de-la-tabla-usuarios"><strong>Campos de la Tabla: Usuarios</strong> </h4>
<ul>
<li><strong>ID_Usuario</strong> (PK)</li>
<li>Nombre</li>
<li>Email</li>
<li>Contraseña (Encriptada)</li>
<li>Rol (Administrador, Contador, Auditor, Operador)</li>
<li>Activo (boolean)</li>
<li>Fecha_Registro</li>
<li>Último_Acceso</li>
</ul>
<h3 id="tabla-permisos_usuarios"><strong>Tabla: Permisos_Usuarios</strong> </h3>
<ul>
<li><strong>Función:</strong> Define el alcance de acceso de cada usuario a empresas y agencias específicas. Controla acciones específicas como lectura, escritura, edición y eliminación.</li>
<li><strong>Interacciones:</strong> Conecta usuarios con empresas, agencias y auditorías para rastrear accesos y permisos.</li>
</ul>
<h4 id="campos-de-la-tabla-permisos_usuarios"><strong>Campos de la Tabla: Permisos_Usuarios</strong> </h4>
<ul>
<li><strong>ID_Permiso</strong> (PK)</li>
<li><strong>ID_Usuario</strong> (FK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Agencia</strong> (FK)</li>
<li>Acciones (Leer, Escribir, Editar, Eliminar)</li>
<li>Fecha_Asignación</li>
<li>Usuario_Creación</li>
</ul>
<hr>
<h2 id="3-contabilidad-1"><strong>3. Contabilidad</strong> </h2>
<h3 id="tabla-plan_cuentas"><strong>Tabla: Plan_Cuentas</strong> </h3>
<ul>
<li><strong>Función:</strong> Define las cuentas contables según el PUC o NIIF, categorizadas por tipo (activo, pasivo, etc.) y nivel jerárquico. Es la base para generar estados financieros.</li>
<li><strong>Interacciones:</strong> Relacionada con movimientos_contables y asientos_contables para registrar las operaciones financieras.</li>
</ul>
<h4 id="campos-de-la-tabla-plan_cuentas"><strong>Campos de la Tabla: Plan_Cuentas</strong> </h4>
<ul>
<li><strong>ID_Cuenta</strong> (PK)</li>
<li>Código_Cuenta (Cumpliendo PUC o personalizable)</li>
<li>Nombre</li>
<li>Tipo (Activo, Pasivo, Patrimonio, Ingreso, Gasto)</li>
<li>Nivel (Mayor, Subcuenta)</li>
<li>Normativa (PUC/NIIF)</li>
<li>Estado (Activa/Inactiva)</li>
<li>Fecha_Creación</li>
</ul>
<h3 id="tabla-movimientos_contables"><strong>Tabla: Movimientos_Contables</strong> </h3>
<ul>
<li><strong>Función:</strong> Registra cada operación contable, como débitos y créditos, vinculada a una cuenta específica. Incluye referencias a documentos de ventas o compras.</li>
<li><strong>Interacciones:</strong> Alimenta los asientos_contables y es fundamental para generar reportes financieros y auditorías.</li>
</ul>
<h4 id="campos-de-la-tabla-movimientos_contables"><strong>Campos de la Tabla: Movimientos_Contables</strong> </h4>
<ul>
<li><strong>ID_Movimiento</strong> (PK)</li>
<li><strong>ID_Cuenta</strong> (FK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Agencia</strong> (FK)</li>
<li>Fecha</li>
<li>Referencia (Factura, Documento Soporte, Otro)</li>
<li>Débito</li>
<li>Crédito</li>
<li>Descripción</li>
<li>Usuario_Creación</li>
<li>Fecha_Registro</li>
</ul>
<h3 id="tabla-asientos_contables"><strong>Tabla: Asientos_Contables</strong> </h3>
<ul>
<li><strong>Función:</strong> Agrupa los movimientos contables en un documento formal, con estados que permiten la validación y auditoría de las operaciones.</li>
<li><strong>Interacciones:</strong> Vinculada con movimientos_contables, usuarios y auditorías para garantizar la trazabilidad de las operaciones.</li>
</ul>
<h4 id="campos-de-la-tabla-asientos_contables"><strong>Campos de la Tabla: Asientos_Contables</strong> </h4>
<ul>
<li><strong>ID_Asiento</strong> (PK)</li>
<li>Número_Asiento</li>
<li><strong>ID_Movimiento</strong> (FK)</li>
<li>Fecha</li>
<li>Estado (Borrador, Aprobado, Finalizado)</li>
<li>Comentarios</li>
<li>Usuario_Creación</li>
<li>Usuario_Aprobación</li>
<li>Fecha_Aprobación</li>
</ul>
<hr>
<h2 id="4-ventas-y-facturación-1"><strong>4. Ventas y Facturación</strong> </h2>
<h3 id="tabla-ventas"><strong>Tabla: Ventas</strong> </h3>
<ul>
<li><strong>Función:</strong> Registra las transacciones de venta, clasificándolas como POS o electrónicas. Contiene datos fiscales como impuestos y estados de pago.</li>
<li><strong>Interacciones:</strong> Relacionada con detalle_ventas, documentos_electronicos y retenciones para la generación de reportes fiscales.</li>
</ul>
<h4 id="campos-de-la-tabla-ventas"><strong>Campos de la Tabla: Ventas</strong> </h4>
<ul>
<li><strong>ID_Venta</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Agencia</strong> (FK)</li>
<li><strong>ID_Cliente</strong> (FK)</li>
<li>Tipo_Venta (POS, Electrónica)</li>
<li>Fecha</li>
<li>Subtotal</li>
<li>Impuestos</li>
<li>Total</li>
<li>Estado (Pagada, Pendiente, Anulada)</li>
<li>Usuario_Creación</li>
<li>Fecha_Registro</li>
</ul>
<h3 id="tabla-detalle_ventas"><strong>Tabla: Detalle_Ventas</strong> </h3>
<ul>
<li><strong>Función:</strong> Contiene el desglose de los productos o servicios vendidos en cada transacción. Incluye cálculos de impuestos y totales por línea.</li>
<li><strong>Interacciones:</strong> Vinculada con ventas y productos_servicios para calcular el inventario o costo asociado.</li>
</ul>
<h4 id="campos-de-la-tabla-detalle_ventas"><strong>Campos de la Tabla: Detalle_Ventas</strong> </h4>
<ul>
<li><strong>ID_Detalle_Venta</strong> (PK)</li>
<li><strong>ID_Venta</strong> (FK)</li>
<li>Producto_Servicio</li>
<li>Cantidad</li>
<li>Precio_Unitario</li>
<li>Subtotal</li>
<li>Impuesto_Aplicado</li>
<li>Total_Linea</li>
</ul>
<h3 id="tabla-documentos_electronicos"><strong>Tabla: Documentos_Electronicos</strong> </h3>
<ul>
<li><strong>Función:</strong> Almacena la información de facturas electrónicas y otros documentos fiscales (notas crédito/débito). Incluye el contenido en formato estructurado (XML).</li>
<li><strong>Interacciones:</strong> Conecta con ventas para integrar la generación de documentos electrónicos según normativas locales.</li>
</ul>
<h4 id="campos-de-la-tabla-documentos_electronicos"><strong>Campos de la Tabla: Documentos_Electronicos</strong> </h4>
<ul>
<li><strong>ID_Documento</strong> (PK)</li>
<li><strong>ID_Venta</strong> (FK)</li>
<li>Número_Documento</li>
<li>Tipo_Documento (Factura Electrónica, Nota Crédito, Nota Débito)</li>
<li>Fecha</li>
<li>Estado (Emitido, Anulado)</li>
<li>XML (Contenido estructurado)</li>
</ul>
<h3 id="tabla-retenciones"><strong>Tabla: Retenciones</strong> </h3>
<ul>
<li><strong>Función:</strong> Registra las retenciones aplicadas en una venta, clasificadas por tipo (IVA, fuente, etc.) y monto. Es esencial para reportes tributarios.</li>
<li><strong>Interacciones:</strong> Relacionada con ventas para calcular impuestos netos y generar reportes fiscales.</li>
</ul>
<h4 id="campos-de-la-tabla-retenciones"><strong>Campos de la Tabla: Retenciones</strong> </h4>
<ul>
<li><strong>ID_Retencion</strong> (PK)</li>
<li><strong>ID_Venta</strong> (FK)</li>
<li>Tipo_Retencion (IVA, Fuente, Industria y Comercio)</li>
<li>Base_Imponible</li>
<li>Porcentaje</li>
<li>Monto</li>
</ul>
<hr>
<h2 id="5-compras-1"><strong>5. Compras</strong> </h2>
<h3 id="tabla-compras"><strong>Tabla: Compras</strong> </h3>
<ul>
<li><strong>Función:</strong> Administra las transacciones de adquisición de bienes o servicios. Incluye detalles fiscales y estados de pago.</li>
<li><strong>Interacciones:</strong> Vinculada con detalle_compras, retenciones_compras y proveedores para rastrear la relación financiera con terceros.</li>
</ul>
<h4 id="campos-de-la-tabla-compras"><strong>Campos de la Tabla: Compras</strong> </h4>
<ul>
<li><strong>ID_Compra</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Proveedor</strong> (FK)</li>
<li>Fecha</li>
<li>Subtotal</li>
<li>Impuestos</li>
<li>Total</li>
<li>Estado (Pagada, Pendiente)</li>
<li>Usuario_Creación</li>
<li>Fecha_Registro</li>
</ul>
<h3 id="tabla-detalle_compras"><strong>Tabla: Detalle_Compras</strong> </h3>
<ul>
<li><strong>Función:</strong> Contiene el desglose de cada compra, incluyendo productos o servicios adquiridos, precios unitarios e impuestos aplicados.</li>
<li><strong>Interacciones:</strong> Relacionada con compras y productos_servicios para registrar el costo y actualizar inventarios.</li>
</ul>
<h4 id="campos-de-la-tabla-detalle_compras"><strong>Campos de la Tabla: Detalle_Compras</strong> </h4>
<ul>
<li><strong>ID_Detalle_Compra</strong> (PK)</li>
<li><strong>ID_Compra</strong> (FK)</li>
<li>Producto_Servicio</li>
<li>Cantidad</li>
<li>Precio_Unitario</li>
<li>Subtotal</li>
<li>Impuesto_Aplicado</li>
<li>Total_Linea</li>
</ul>
<hr>
<h2 id="6-gestión-de-cartera-y-pagos-1"><strong>6. Gestión de Cartera y Pagos</strong> </h2>
<h3 id="tabla-cartera"><strong>Tabla: Cartera</strong> </h3>
<ul>
<li><strong>Función:</strong> Centraliza el estado de las cuentas por cobrar para cada cliente, incluyendo saldos pendientes y fecha de actualización.</li>
<li><strong>Interacciones:</strong> Conecta con ventas y pagos para rastrear el flujo de efectivo y generar reportes de morosidad.</li>
</ul>
<h4 id="campos-de-la-tabla-cartera"><strong>Campos de la Tabla: Cartera</strong> </h4>
<ul>
<li><strong>ID_Cartera</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Agencia</strong> (FK)</li>
<li><strong>ID_Cliente</strong> (FK)</li>
<li>Saldo_Total</li>
<li>Fecha_Actualización</li>
</ul>
<h3 id="tabla-pagos"><strong>Tabla: Pagos</strong> </h3>
<ul>
<li><strong>Función:</strong> Registra los pagos realizados por clientes, incluyendo detalles como método de pago y referencia a facturas específicas.</li>
<li><strong>Interacciones:</strong> Relacionada con cartera para actualizar saldos y con ventas para marcar facturas como pagadas.</li>
</ul>
<h4 id="campos-de-la-tabla-pagos"><strong>Campos de la Tabla: Pagos</strong> </h4>
<ul>
<li><strong>ID_Pago</strong> (PK)</li>
<li><strong>ID_Cartera</strong> (FK)</li>
<li>Fecha</li>
<li>Monto</li>
<li>Método_Pago (Efectivo, Transferencia, Tarjeta)</li>
<li>Referencia (Factura, Documento Soporte)</li>
</ul>
<hr>
<h2 id="7-auditorías-y-control-1"><strong>7. Auditorías y Control</strong> </h2>
<h3 id="tabla-auditorias"><strong>Tabla: Auditorias</strong> </h3>
<ul>
<li><strong>Función:</strong> Rastrear todas las acciones críticas realizadas en el sistema, como creaciones, modificaciones o eliminaciones. Almacena cambios en registros clave.</li>
<li><strong>Interacciones:</strong> Vinculada con todas las tablas principales para garantizar la trazabilidad y cumplimiento normativo.</li>
</ul>
<h4 id="campos-de-la-tabla-auditorias"><strong>Campos de la Tabla: Auditorias</strong> </h4>
<ul>
<li><strong>ID_Auditoria</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li><strong>ID_Usuario</strong> (FK)</li>
<li>Tipo_Acción (Creación, Modificación, Eliminación)</li>
<li>Tabla_Afectada</li>
<li>Registro_Antiguo (JSON)</li>
<li>Registro_Nuevo (JSON)</li>
<li>Fecha_Acción</li>
</ul>
<hr>
<h2 id="8-complementos-y-catálogos-1"><strong>8. Complementos y Catálogos</strong> </h2>
<h3 id="tabla-clientes"><strong>Tabla: Clientes</strong> </h3>
<ul>
<li><strong>Función:</strong> Registra la información de contacto y fiscal de los clientes. Es esencial para facturación y seguimiento de cartera.</li>
<li><strong>Interacciones:</strong> Relacionada con ventas, cartera y pagos para operaciones comerciales.</li>
</ul>
<h4 id="campos-de-la-tabla-clientes"><strong>Campos de la Tabla: Clientes</strong> </h4>
<ul>
<li><strong>ID_Cliente</strong> (PK)</li>
<li>Nombre</li>
<li>NIT</li>
<li>Dirección</li>
<li>Teléfono</li>
<li>Email</li>
</ul>
<h3 id="tabla-proveedores"><strong>Tabla: Proveedores</strong> </h3>
<ul>
<li><strong>Función:</strong> Administra la información de los proveedores, esencial para las transacciones de compras y pagos.</li>
<li><strong>Interacciones:</strong> Conecta con compras para rastrear relaciones financieras.</li>
</ul>
<h4 id="campos-de-la-tabla-proveedores"><strong>Campos de la Tabla: Proveedores</strong> </h4>
<ul>
<li><strong>ID_Proveedor</strong> (PK)</li>
<li>Nombre</li>
<li>NIT</li>
<li>Dirección</li>
<li>Teléfono</li>
<li>Email</li>
</ul>
<h3 id="tabla-productos_servicios"><strong>Tabla: Productos_Servicios</strong> </h3>
<ul>
<li><strong>Función:</strong> Centraliza la información de los productos o servicios ofrecidos o adquiridos, incluyendo precios y unidades de medida.</li>
<li><strong>Interacciones:</strong> Vinculada con detalle_ventas y detalle_compras para cálculos de inventario y costos.</li>
</ul>
<h4 id="campos-de-la-tabla-productos_servicios"><strong>Campos de la Tabla: Productos_Servicios</strong> </h4>
<ul>
<li><strong>ID_Producto_Servicio</strong> (PK)</li>
<li>Nombre</li>
<li>Descripción</li>
<li>Tipo (Producto, Servicio)</li>
<li>Precio_Unitario</li>
<li>Impuesto</li>
<li>Unidad_Medida</li>
</ul>
<h3 id="tabla-impuestos"><strong>Tabla: Impuestos</strong> </h3>
<ul>
<li><strong>Función:</strong> Define los tipos de impuestos aplicables, incluyendo retenciones e IVA. Es fundamental para el cálculo de impuestos en ventas y compras.</li>
<li><strong>Interacciones:</strong> Relacionada con ventas, detalle_ventas y detalle_compras para asegurar el cumplimiento fiscal.</li>
</ul>
<h4 id="campos-de-la-tabla-impuestos"><strong>Campos de la Tabla: Impuestos</strong> </h4>
<ul>
<li><strong>ID_Impuesto</strong> (PK)</li>
<li>Nombre</li>
<li>Tipo (IVA, Retención)</li>
<li>Porcentaje</li>
<li>Base_Aplicación (Total, Subtotal)</li>
</ul>
<hr>
<h3 id="relaciones-clave"><strong>Relaciones Clave</strong> </h3>
<ul>
<li>Empresas ↔ Agencias (1:N)</li>
<li>Usuarios ↔ Permisos_Usuarios (1:N)</li>
<li>Plan_Cuentas ↔ Movimientos_Contables ↔ Asientos_Contables (1:N)</li>
<li>Ventas ↔ Detalle_Ventas ↔ Documentos_Electronicos (1:N)</li>
<li>Compras ↔ Detalle_Compras ↔ Retenciones_Compras (1:N)</li>
<li>Auditorías vinculadas a cualquier tabla para rastreo de cambios.</li>
</ul>
<hr>
<h3 id="escalabilidad-y-compatibilidad"><strong>Escalabilidad y Compatibilidad</strong> </h3>
<ol>
<li>
<p><strong>Soporte de Multinormas (PUC y NIIF):</strong><br>
Tablas permiten especificar normativas aplicables para cumplir con diferentes requerimientos legales y operativos.</p>
</li>
<li>
<p><strong>Integración con POS y SAP:</strong></p>
<ul>
<li>Estructuras de facturación electrónica, XML embebido.</li>
<li>Auditorías detalladas para integridad en sistemas de terceros.</li>
</ul>
</li>
<li>
<p><strong>Preparado para Big Data y Analytics:</strong></p>
<ul>
<li>Historial completo de transacciones y auditorías.</li>
<li>Datos diseñados para consultas rápidas y generación de reportes.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="1-evaluación-del-diseño-actual"><strong>1. Evaluación del Diseño Actual</strong> </h2>
<h3 id="ventajas-del-diseño-actual"><strong>Ventajas del Diseño Actual:</strong> </h3>
<ul>
<li><strong>Cobertura Básica:</strong> Cubre las necesidades principales descritas en los requerimientos:
<ul>
<li>Gestión de empresas, agencias y usuarios.</li>
<li>Contabilidad con enfoque en PUC y NIIF.</li>
<li>Ventas, compras y retenciones.</li>
<li>Cartera y pagos.</li>
<li>Auditorías.</li>
</ul>
</li>
<li><strong>Auditorías:</strong> Se incluyen registros de acciones realizadas sobre cualquier entidad clave (auditorías).</li>
<li><strong>Escalabilidad:</strong> Diseñado para integrarse con POS, SAP, o sistemas externos.</li>
<li><strong>Flexibilidad Normativa:</strong> Incluye soporte para múltiples normativas contables y fiscales.</li>
</ul>
<hr>
<h2 id="2-áreas-clave-para-expandir-si-es-necesario"><strong>2. Áreas Clave para Expandir si es Necesario</strong> </h2>
<p>Si deseas una base de datos aún más robusta y completa, podríamos agregar tablas para cubrir las siguientes áreas:</p>
<h3 id="gestión-de-normatividad"><strong>Gestión de Normatividad</strong> </h3>
<ol>
<li>
<p><strong>Tabla: Normas_Contables</strong></p>
<ul>
<li><strong>ID_Norma</strong> (PK)</li>
<li>Nombre (PUC, NIIF)</li>
<li>Descripción</li>
<li>Fecha_Vigencia</li>
</ul>
</li>
<li>
<p><strong>Tabla: Relacion_Cuentas_Normas</strong></p>
<ul>
<li><strong>ID_Relacion</strong> (PK)</li>
<li><strong>ID_Cuenta</strong> (FK)</li>
<li><strong>ID_Norma</strong> (FK)</li>
<li>Descripción_Especifica</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Esto facilitará la gestión de normativas específicas y sus aplicaciones en diferentes cuentas contables.</p>
<hr>
<h3 id="control-de-auditorías-avanzadas"><strong>Control de Auditorías Avanzadas</strong> </h3>
<ol>
<li>
<p><strong>Tabla: Auditorias_Criterios</strong></p>
<ul>
<li><strong>ID_Criterio</strong> (PK)</li>
<li>Descripción_Criterio</li>
<li>Norma_Asociada (NIIF, PUC, UGPP)</li>
</ul>
</li>
<li>
<p><strong>Tabla: Log_Acceso_Usuarios</strong></p>
<ul>
<li><strong>ID_Log</strong> (PK)</li>
<li><strong>ID_Usuario</strong> (FK)</li>
<li>Fecha_Hora</li>
<li>IP_Origen</li>
<li>Acción (Inicio_Sesión, Cierre_Sesión)</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Aumenta la capacidad del sistema para rastrear accesos y validar conformidad normativa.</p>
<hr>
<h3 id="gestión-de-inventarios-compleja"><strong>Gestión de Inventarios Compleja</strong> </h3>
<ol>
<li><strong>Tabla: Movimientos_Inventarios</strong>
<ul>
<li><strong>ID_Movimiento_Inventario</strong> (PK)</li>
<li><strong>ID_Inventario</strong> (FK)</li>
<li>Fecha</li>
<li>Tipo_Movimiento (Entrada, Salida, Ajuste)</li>
<li>Cantidad</li>
<li>Usuario_Responsable</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Para sistemas con enfoque en manejo de inventarios costosos o complejos.</p>
<hr>
<h3 id="análisis-de-información-y-reportes"><strong>Análisis de Información y Reportes</strong> </h3>
<ol>
<li>
<p><strong>Tabla: Configuracion_Reportes</strong></p>
<ul>
<li><strong>ID_Configuracion</strong> (PK)</li>
<li>Nombre</li>
<li>Descripción</li>
<li>Script_SQL (para consultas específicas)</li>
</ul>
</li>
<li>
<p><strong>Tabla: Historial_Reportes</strong></p>
<ul>
<li><strong>ID_Reporte</strong> (PK)</li>
<li><strong>ID_Configuracion</strong> (FK)</li>
<li>Fecha_Generación</li>
<li>Usuario_Generador</li>
<li>Estado (Éxito, Fallo)</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Facilita la generación y trazabilidad de reportes complejos necesarios para auditorías o revisiones legales.</p>
<hr>
<h3 id="3-tablas-de-control-físico-opcionales"><strong>3. Tablas de Control Físico (Opcionales)</strong> </h3>
<ol>
<li>
<p><strong>Tabla: Activos_Fijos</strong></p>
<ul>
<li><strong>ID_Activo</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li>Nombre</li>
<li>Descripción</li>
<li>Valor_Inicial</li>
<li>Depreciación_Acumulada</li>
<li>Valor_Actual</li>
<li>Fecha_Adquisición</li>
</ul>
</li>
<li>
<p><strong>Tabla: Depreciaciones</strong></p>
<ul>
<li><strong>ID_Depreciacion</strong> (PK)</li>
<li><strong>ID_Activo</strong> (FK)</li>
<li>Fecha</li>
<li>Método (Línea Recta, Decreciente)</li>
<li>Valor</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Necesario si el sistema debe manejar activos fijos y sus depreciaciones.</p>
<hr>
<h3 id="4-control-fiscal-y-tributario"><strong>4. Control Fiscal y Tributario</strong> </h3>
<ol>
<li><strong>Tabla: Declaraciones_Tributarias</strong>
<ul>
<li><strong>ID_Declaracion</strong> (PK)</li>
<li><strong>ID_Empresa</strong> (FK)</li>
<li>Periodo</li>
<li>Tipo (IVA, Renta, etc.)</li>
<li>Estado (En Proceso, Presentada)</li>
<li>Total_Pagado</li>
</ul>
</li>
</ol>
<p><strong>Justificación:</strong> Ideal para empresas con responsabilidades fiscales complejas que exigen reportes detallados.</p>
<hr>
<h3 id="revisión-final-tamaño-y-robustez"><strong>Revisión Final: Tamaño y Robustez</strong> </h3>
<h4 id="20-tablas-son-suficientes"><strong>¿20 Tablas Son Suficientes?</strong> </h4>
<ul>
<li>
<p><strong>Sí</strong>, si:</p>
<ul>
<li>El sistema no requiere activos fijos ni manejo complejo de inventarios.</li>
<li>Las normativas no varían significativamente por empresa.</li>
<li>Las auditorías son básicas y se centran en acciones y registros principales.</li>
</ul>
</li>
<li>
<p><strong>No</strong>, si:</p>
<ul>
<li>Se requiere un manejo detallado de normativas específicas.</li>
<li>El sistema debe cumplir con auditorías avanzadas o UGPP complejas.</li>
<li>Se manejan activos fijos, inventarios complejos o análisis tributarios específicos.</li>
</ul>
</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>